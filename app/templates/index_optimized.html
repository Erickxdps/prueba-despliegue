{% extends 'base.html' %}

{% block title %}Sistema de Gestión Comunitaria - Junta Vecinal Circuata{% endblock %}

{% block content %}
<div class="hero-section mb-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <div class="hero-content">
                    <h1 class="hero-title">Junta de Vecinos<br><span class="text-gradient">Circuata</span></h1>
                    <p class="hero-subtitle">Sistema integral de gestión comunitaria para propietarios y administración de la comunidad</p>
                    
                    {% if not current_user.is_authenticated %}
                    <div class="hero-actions mt-4">
                        <a href="{{ url_for('user.login') }}" class="btn btn-premium btn-lg me-3">
                            <i class="fas fa-sign-in-alt me-2"></i>Iniciar Sesión
                        </a>
                        <button type="button" class="btn btn-outline-premium btn-lg" data-bs-toggle="modal" data-bs-target="#aboutSystemModal">
                            <i class="fas fa-info-circle me-2"></i>Conocer Más
                        </button>
                    </div>
                    {% else %}
                    <div class="hero-actions mt-4">
                        <a href="{{ url_for('duenio.list_duenios') }}" class="btn btn-premium btn-lg me-3">
                            <i class="fas fa-tachometer-alt me-2"></i>Panel de Control
                        </a>
                        <a href="{{ url_for('user.logout') }}" class="btn btn-outline-danger btn-lg">
                            <i class="fas fa-sign-out-alt me-2"></i>Cerrar Sesión
                        </a>
                    </div>
                    {% endif %}
                </div>
            </div>
            <div class="col-lg-6">
                <div class="hero-stats">
                    <div class="row g-4">
                        <div class="col-6">
                            <div class="stat-card glass-card">
                                <div class="stat-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="stat-content">
                                    <h3 class="stat-number">{{ duenos_count if duenos_count else '0' }}</h3>
                                    <p class="stat-label">Propietarios</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-card glass-card">
                                <div class="stat-icon">
                                    <i class="fas fa-map-marked-alt"></i>
                                </div>
                                <div class="stat-content">
                                    <h3 class="stat-number">{{ terrenos_count if terrenos_count else '0' }}</h3>
                                    <p class="stat-label">Terrenos</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-card glass-card">
                                <div class="stat-icon">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                                <div class="stat-content">
                                    <h3 class="stat-number">{{ reuniones_count if reuniones_count else '0' }}</h3>
                                    <p class="stat-label">Reuniones</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-card glass-card">
                                <div class="stat-icon">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                                <div class="stat-content">
                                    <h3 class="stat-number">{{ cuotas_count if cuotas_count else '0' }}</h3>
                                    <p class="stat-label">Cuotas</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% if current_user.is_authenticated %}
<!-- Panel de Control Rápido -->
<div class="quick-access-section mb-5">
    <div class="container">
        <h2 class="section-title text-center mb-4">
            <i class="fas fa-bolt me-2"></i>Acceso Rápido
        </h2>
        
        <div class="row g-4">
            {% if current_user.has_role("admin") %}
            <div class="col-lg-3 col-md-6">
                <a href="{{ url_for('duenio.create_duenio') }}" class="quick-card glass-card text-decoration-none">
                    <div class="quick-icon bg-primary">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <h4 class="quick-title">Nuevo Propietario</h4>
                    <p class="quick-description">Registrar un nuevo propietario en el sistema</p>
                </a>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <a href="{{ url_for('reunion.create_reunion') }}" class="quick-card glass-card text-decoration-none">
                    <div class="quick-icon bg-warning">
                        <i class="fas fa-calendar-plus"></i>
                    </div>
                    <h4 class="quick-title">Nueva Reunión</h4>
                    <p class="quick-description">Programar o registrar una reunión</p>
                </a>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <a href="{{ url_for('terreno.create_terreno') }}" class="quick-card glass-card text-decoration-none">
                    <div class="quick-icon bg-success">
                        <i class="fas fa-map"></i>
                    </div>
                    <h4 class="quick-title">Nuevo Terreno</h4>
                    <p class="quick-description">Registrar un terreno en el sistema</p>
                </a>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <a href="{{ url_for('cuota.create_cuota') }}" class="quick-card glass-card text-decoration-none">
                    <div class="quick-icon bg-info">
                        <i class="fas fa-money-bill"></i>
                    </div>
                    <h4 class="quick-title">Nueva Cuota</h4>
                    <p class="quick-description">Crear una cuota para propietarios</p>
                </a>
            </div>
            {% endif %}
        </div>
    </div>
</div>

<!-- Sección de navegación optimizada -->
<div class="navigation-section">
    <div class="container">
        <h2 class="section-title text-center mb-4">
            <i class="fas fa-compass me-2"></i>Navegación Rápida
        </h2>
        
        <div class="row g-3">
            <div class="col-md-3 col-sm-6">
                <a href="{{ url_for('duenio.list_duenios') }}" class="btn btn-outline-primary w-100 py-3">
                    <i class="fas fa-users fa-2x mb-2"></i><br>
                    <strong>Gestionar Propietarios</strong><br>
                    <small class="text-muted">Ver, agregar y editar propietarios</small>
                </a>
            </div>
            <div class="col-md-3 col-sm-6">
                <a href="{{ url_for('terreno.list_terrenos') }}" class="btn btn-outline-success w-100 py-3">
                    <i class="fas fa-map-marked-alt fa-2x mb-2"></i><br>
                    <strong>Gestionar Terrenos</strong><br>
                    <small class="text-muted">Administrar lotes y propiedades</small>
                </a>
            </div>
            <div class="col-md-3 col-sm-6">
                <a href="{{ url_for('asistencia.list_asistencias') }}" class="btn btn-outline-info w-100 py-3">
                    <i class="fas fa-calendar-check fa-2x mb-2"></i><br>
                    <strong>Ver Asistencias</strong><br>
                    <small class="text-muted">Control de asistencia a reuniones</small>
                </a>
            </div>
            <div class="col-md-3 col-sm-6">
                <a href="{{ url_for('reunion.list_reuniones') }}" class="btn btn-outline-warning w-100 py-3">
                    <i class="fas fa-calendar-alt fa-2x mb-2"></i><br>
                    <strong>Gestionar Reuniones</strong><br>
                    <small class="text-muted">Programar y administrar reuniones</small>
                </a>
            </div>
        </div>
        
        <div class="text-center mt-4">
            <p class="text-muted">
                <i class="fas fa-info-circle me-1"></i>
                Utiliza el menú de navegación superior para acceder rápidamente a cualquier sección del sistema
            </p>
        </div>
    </div>
</div>
{% endif %}

<style>
    /* ===== HERO SECTION STYLES ===== */
    .hero-section {
        padding: 60px 0;
        position: relative;
        overflow: hidden;
    }

    .hero-title {
        font-family: 'Poppins', sans-serif;
        font-size: 3.5rem;
        font-weight: 800;
        color: var(--text-primary);
        margin-bottom: 1rem;
        line-height: 1.2;
    }

    .text-gradient {
        background: linear-gradient(135deg, var(--accent-color), var(--accent-hover));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .hero-subtitle {
        font-size: 1.2rem;
        color: var(--text-muted);
        margin-bottom: 2rem;
        line-height: 1.6;
    }

    .btn-premium {
        background: linear-gradient(135deg, var(--accent-color), var(--accent-hover));
        border: none;
        color: white;
        padding: 12px 30px;
        border-radius: 50px;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
    }

    .btn-premium:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(52, 152, 219, 0.4);
        color: white;
    }

    .btn-outline-premium {
        border: 2px solid var(--accent-color);
        color: var(--accent-color);
        padding: 10px 28px;
        border-radius: 50px;
        font-weight: 600;
        transition: all 0.3s ease;
        background: transparent;
    }

    .btn-outline-premium:hover {
        background: var(--accent-color);
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(52, 152, 219, 0.3);
    }

    /* ===== STATS CARDS ===== */
    .stat-card {
        padding: 25px;
        text-align: center;
        height: 100%;
        transition: all 0.3s ease;
        border-radius: 20px;
    }

    .stat-card:hover {
        transform: translateY(-5px) scale(1.02);
    }

    .stat-icon {
        font-size: 2.5rem;
        color: var(--accent-color);
        margin-bottom: 15px;
    }

    .stat-number {
        font-size: 2.5rem;
        font-weight: 800;
        color: var(--text-primary);
        margin: 0;
    }

    .stat-label {
        color: var(--text-muted);
        font-weight: 500;
        margin: 0;
        font-size: 0.9rem;
    }

    /* ===== QUICK ACCESS CARDS ===== */
    .section-title {
        font-size: 2rem;
        font-weight: 700;
        color: var(--text-primary);
    }

    .quick-card {
        display: block;
        padding: 30px;
        text-align: center;
        border-radius: 20px;
        transition: all 0.3s ease;
        height: 100%;
        text-decoration: none !important;
        color: var(--text-primary);
    }

    .quick-card:hover {
        transform: translateY(-5px) scale(1.02);
        color: var(--text-primary);
    }

    .quick-icon {
        width: 70px;
        height: 70px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        font-size: 2rem;
        color: white;
    }

    .quick-title {
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 10px;
        color: var(--text-primary);
    }

    .quick-description {
        color: var(--text-muted);
        font-size: 0.9rem;
        margin: 0;
    }

    /* ===== NAVIGATION SECTION ===== */
    .navigation-section {
        padding: 40px 0;
    }

    /* ===== RESPONSIVE DESIGN ===== */
    @media (max-width: 991px) {
        .hero-section {
            padding: 40px 0;
        }
        
        .hero-title {
            font-size: 2.8rem;
            text-align: center;
        }

        .hero-subtitle {
            font-size: 1.1rem;
            text-align: center;
        }
        
        .hero-actions {
            justify-content: center;
        }

        .stat-card {
            padding: 18px;
            margin-bottom: 15px;
        }
        
        .stat-number {
            font-size: 2rem;
        }

        .quick-card {
            padding: 20px;
            margin-bottom: 15px;
        }
        
        .quick-title {
            font-size: 1.1rem;
        }
        
        .section-title {
            font-size: 1.8rem;
        }
    }

    @media (max-width: 767px) {
        .hero-section {
            padding: 30px 0;
        }
        
        .hero-title {
            font-size: 2.2rem;
        }

        .hero-subtitle {
            font-size: 1rem;
        }
        
        .hero-actions .btn {
            width: 100%;
            margin-bottom: 15px;
        }

        .stat-card {
            padding: 15px;
            margin-bottom: 10px;
        }
        
        .stat-number {
            font-size: 1.8rem;
        }
        
        .stat-icon {
            font-size: 2rem;
        }

        .quick-card {
            padding: 20px;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .quick-title {
            font-size: 1rem;
        }
        
        .quick-description {
            font-size: 0.85rem;
        }
    }

    @media (max-width: 575px) {
        .hero-title {
            font-size: 1.8rem;
            line-height: 1.1;
        }

        .hero-subtitle {
            font-size: 0.9rem;
        }
        
        .btn-lg {
            font-size: 0.9rem;
            padding: 10px 20px;
        }

        .stat-card {
            padding: 12px;
        }
        
        .stat-number {
            font-size: 1.5rem;
        }
        
        .stat-label {
            font-size: 0.8rem;
        }
        
        .stat-icon {
            font-size: 1.5rem;
            margin-bottom: 8px;
        }

        .section-title {
            font-size: 1.5rem;
        }
    }
</style>

<!-- Modal Informativo del Sistema -->
<div class="modal fade" id="aboutSystemModal" tabindex="-1" aria-labelledby="aboutSystemModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content glass-card">
            <div class="modal-header">
                <h1 class="modal-title fs-4" id="aboutSystemModalLabel">
                    <i class="fas fa-info-circle me-2 text-primary"></i>
                    <span class="text-gradient">Sistema de Gestión Comunitaria</span>
                </h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Hero del Modal -->
                <div class="text-center mb-4">
                    <div class="system-logo mb-3">
                        <i class="fas fa-home fa-3x text-primary"></i>
                    </div>
                    <h3 class="text-primary">Junta de Vecinos Circuata</h3>
                    <p class="text-muted">Plataforma integral para la gestión y administración comunitaria</p>
                </div>

                <!-- Información Técnica -->
                <div class="tech-info">
                    <h5 class="mb-3">
                        <i class="fas fa-code me-2"></i>Tecnologías Utilizadas
                    </h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Framework Flask (Python) - Backend robusto y escalable</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Bootstrap 5 - Interfaz moderna y responsive</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>SQLAlchemy - Gestión eficiente de base de datos</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Sistema web responsivo - Acceso desde cualquier dispositivo</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Interfaz intuitiva y fácil de usar</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Control de acceso por roles (Administrador/Usuario)</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Reportes y estadísticas en tiempo real</li>
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Sistema optimizado para carga rápida</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer justify-content-center">
                <div class="text-center">
                    <p class="mb-2 text-muted">
                        <small>
                            <i class="fas fa-heart text-danger me-1"></i>
                            Desarrollado con dedicación para la comunidad Circuata
                        </small>
                    </p>
                    <button type="button" class="btn btn-premium" data-bs-dismiss="modal">
                        <i class="fas fa-times me-2"></i>Cerrar
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
